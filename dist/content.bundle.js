(()=>{"use strict";const t=()=>document.getElementById("rootContainer").shadowRoot.querySelector("#popupContainer"),e="popupContent",n="rootContainer",o=window.getSelection(),r=(t=>{const e=t.getRangeAt(0).getBoundingClientRect(),n=window.innerHeight/2;return e.top+e.height/2<n})(o),{top:i,left:d,bottom:p,right:s}=(t=>{if(t.rangeCount>0){const e=t.getRangeAt(0).getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,bottom:e.bottom+window.scrollY,right:e.right+window.scrollX}}})(o),a=r?p+10:i-200-10,l=r?a-100:a+100,c=(d+s)/2-175,g=t=>{const e=document.createElement("div");return e.style.cssText="top"===t?"\n    position: absolute;\n    z-index: 30001;\n    top: 0;\n    height: 15px;\n    width: 100%;\n    background: linear-gradient(to bottom, rgba(27, 18, 18, 0.6), rgba(27, 18, 18, 0) 95%);\n    border-top-right-radius: 7px;\n    border-top-left-radius: 7px;\n":"\n    position: absolute;\n    z-index: 30001;\n    top: 160px;\n    height: 40px;\n    width: 100%;\n    background: linear-gradient(to top, rgba(27, 18, 18, 0.8), rgba(27, 18, 18, 0) 95%);\n    border-bottom-right-radius: 7px;\n    border-bottom-left-radius: 7px;\n",e},u=(t=>{const e=t?"-10px":"185px",n=t?-45:135,o=document.createElement("div");return o.style.cssText=`position: absolute;\n    z-index: 2999;\n    width: 25px;\n    height: 25px;\n    background: rgb(238,174,202);\n    background: linear-gradient(45deg, rgba(238,174,202,0) 55%, rgba(27, 18, 18, 0.8) 58%);\n    left: 175px;\n    top: ${e};\n    transform: rotate(${n}deg);\n    border-radius: 5px;\n    `,o})(r),b=(()=>{const t=document.createElement("p");return t.setAttribute("id",e),t.style.cssText="color: rgb(249, 246, 238);\n    margin: 0;\n    height: calc(100% - 35px);\n    padding-right: 15px;\n    padding-left: 15px;\n    padding-top: 15px;\n    padding-bottom: 15px;\n    font-size: 15px;\n    overflow: scroll;\n    position: relative;\n    ",t})(),x=g("bottom"),m=g("top"),h=(t=>{const e=document.createElement("div");return e.setAttribute("id","popupContainer"),e.style.cssText=`\n    transform: scale(0);\n    transition: all linear 0.2s;\n    width: 350px;\n    height: 200px;\n    background-color: rgba(27, 18, 18, 0.8);\n    position: absolute;\n    z-index: 30000;\n    border-radius: 7px;\n    backdrop-filter: blur(5px);\n    top: ${l}px;\n    left: ${t}px;\n    box-shadow: 0px 0px 10px rgba(27, 18, 18, 0.7);\n    color: white;\n    `,e})(c);h.appendChild(x),h.appendChild(m),h.appendChild(u),h.appendChild(b),(e=>{setTimeout((()=>{const n=t();n.style.transform="scale(1)",n.style.top=`${e}px`}),100)})(a);const w=h;let f=0;const y=e=>{t().contains(e.target)||(f++,("scroll"===e.type&&f>=50||"click"===e.type)&&(()=>{const e=t();(()=>{const e=t();e.style.transform="scale(0)",e.style.top=`${l}px`})(),setTimeout((()=>{e.remove()}),200),document.removeEventListener("click",y),window.removeEventListener("scroll",y)})())},v=window.getSelection();w.querySelector(`#${e}`).innerHTML=v.toString(),document.addEventListener("click",y),window.addEventListener("scroll",y);const C=document.createElement("div");C.setAttribute("id",n),document.body.insertAdjacentHTML("afterbegin",C.outerHTML),document.getElementById(n).attachShadow({mode:"open"}).innerHTML=`\n  ${w.outerHTML}`})();
//# sourceMappingURL=content.bundle.js.map